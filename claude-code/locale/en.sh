#!/bin/bash
# English locale

# Prerequisites
MSG_CLAUDE_NOT_INSTALLED="Claude Code is not installed."
MSG_INSTALL_NOW="Install now?"
MSG_CLAUDE_REQUIRED="Claude Code is required for this setup."
MSG_CLAUDE_INSTALL_CMD="  npm install -g @anthropic-ai/claude-code"
MSG_CLAUDE_RESTART_TERMINAL="Please restart your terminal and re-run this script."
MSG_CLAUDE_INSTALL_FAILED="Installation failed"
MSG_CLAUDE_CHECK_HEADER="Please check:"
MSG_CLAUDE_CHECK_NPM="1. npm is working: npm --version"
MSG_CLAUDE_CHECK_INTERNET="2. Internet connection"
MSG_CLAUDE_CHECK_PERMISSIONS="3. Permissions (may need sudo on some systems)"
MSG_CLAUDE_TRY_MANUAL="Try manually: npm install -g @anthropic-ai/claude-code"
MSG_CLAUDE_NOT_IN_PATH="Claude Code installed but not in PATH"
MSG_NODE_NOT_INSTALLED="Node.js is not installed. Required for MCP servers."
MSG_NODE_INSTALL_ASK="Install Node.js with Homebrew?"
MSG_NPM_NOT_FOUND="npm not found. Please install Node.js first."
MSG_BREW_NOT_FOUND_OBSIDIAN="Homebrew not found. Install Obsidian from: https://obsidian.md/"

# Common
MSG_DONE="Done"
MSG_SKIP="Skipped"
MSG_LANG_SET="Language:"
MSG_ALREADY_INSTALLED="Already installed."
MSG_INSTALLING="Installing..."
MSG_UPDATING="Updating..."
MSG_APPLIED="Applied"

# Font
MSG_FONT_NOT_INSTALLED="D2Coding font is not installed!"
MSG_FONT_REQUIRED="Font is required to apply terminal theme."
MSG_FONT_INSTALL_ASK="Install font now?"
MSG_FONT_INSTALL_OPT="Install"
MSG_FONT_SKIP_OPT="Skip (no theme)"
MSG_FONT_INSTALLED="D2Coding font installed"
MSG_FONT_INSTALL_FAILED="Font installation failed"
MSG_FONT_MANUAL_INSTALL="Manual install: brew install --cask font-d2coding"
MSG_FONT_NO_BREW="Cannot install font without Homebrew"
MSG_TERMINAL_THEME_SKIP="Skipping terminal theme setup"

# Workspace
MSG_WS_TITLE="claude-workspace Setup"
MSG_WS_DESC_1="Manage all Claude Code settings in one place."
MSG_WS_DESC_2="Centrally manage agents, CLAUDE.md, and project settings,"
MSG_WS_DESC_3="then link them to each project via symlinks."
MSG_WS_TREE_AGENTS="Global agents (available in all projects)"
MSG_WS_TREE_PROJECTS="Per-project settings"
MSG_WS_TREE_TEMPLATES="MCP, CLAUDE.md templates"
MSG_WS_ASK="Set up claude-workspace?"
MSG_WS_AGENTS_DONE="Global agents installed: workspace-manager, translate, doc-writer"
MSG_WS_TEMPLATES_DONE="Templates copied"
MSG_WS_SYMLINK_EXISTS="~/.claude/agents/ symlink already exists."
MSG_WS_FOLDER_EXISTS="~/.claude/agents/ folder already exists."
MSG_WS_BACKUP_ASK="Back up existing folder and replace with symlink?"
MSG_WS_BACKUP_DONE="Existing folder backed up: ~/.claude/agents.backup"
MSG_WS_SYMLINK_DONE="Symlink created: ~/.claude/agents/ ‚Üí claude-workspace"
MSG_WS_SYMLINK_NEED_ADMIN="Creating symlinks on Windows requires Developer Mode or admin privileges."
MSG_WS_SYMLINK_ENABLE="Enable Developer Mode: Settings ‚Üí Update & Security ‚Üí For developers"
MSG_WS_SYMLINK_SKIP="Skipping symlink. Copy agents folder instead."

# Project
MSG_PROJ_DESC_1="Connect projects to claude-workspace to"
MSG_PROJ_DESC_2="centrally manage CLAUDE.md, agents, and settings."
MSG_PROJ_ASK="Connect a project?"
MSG_PROJ_PATH="Project path (e.g., ~/projects/my-app): "
MSG_PROJ_NOT_FOUND="Path not found:"
MSG_PROJ_EXISTS="already exists. Skipping."
MSG_PROJ_LINK_CLAUDE=".claude/ symlink created"
MSG_PROJ_LINK_CLAUDEMD="CLAUDE.md symlink created"
MSG_PROJ_LINK_LOCALMD="CLAUDE.local.md symlink created"
MSG_PROJ_GITIGNORE=".gitignore updated"
MSG_PROJ_DONE="connected"
MSG_PROJ_NAME_CONFLICT="already exists in workspace. Enter a different name (or leave blank to skip):"

# Obsidian
MSG_OBS_TITLE="Obsidian"
MSG_OBS_DESC_1="A markdown-based note-taking and documentation app."
MSG_OBS_DESC_2="Your documents can be searched by Claude Code via local-rag."
MSG_OBS_ASK="Install Obsidian?"

# MCP
MSG_MCP_TITLE="MCP Servers"
MSG_MCP_DESC_1="By default, Claude Code can only read/write files and use the terminal."
MSG_MCP_DESC_2="MCP servers let Claude directly use external services"
MSG_MCP_DESC_3="like document search and Jira integration."
MSG_MCP_ASK="Set up MCP servers?"

# MCP Server options
MSG_MCP_SERVER_LOCALRAG="local-rag - Search docs/code"
MSG_MCP_SERVER_FILESYSTEM="filesystem - Read/write files"
MSG_MCP_SERVER_SERENA="serena - Web search"
MSG_MCP_SERVER_FETCH="fetch - HTTP requests"
MSG_MCP_SERVER_PUPPETEER="puppeteer - Browser automation"
MSG_RECOMMENDED="(recommended)"

# local-rag
MSG_RAG_TITLE="local-rag (Document Search)"
MSG_RAG_DESC="Search PDFs, markdown, and other documents with Claude."
MSG_RAG_ASK="Set up local-rag?"
MSG_RAG_PATH="Project path (e.g., ~/projects/my-app): "
MSG_MCP_FILE_EXISTS=".mcp.json already exists. Please add manually:"
MSG_MCP_FILE_REF="See template:"
MSG_MCP_FILE_DONE="created"

# Common prompts
MSG_YES="Yes"
MSG_NO="No"

# Language selection (always in English for all locales)
MSG_LANG_SELECT="Select your language:"
MSG_LANG_CUSTOM_CODE="Language code (e.g., zh, de, fr): "
MSG_LANG_CUSTOM_NAME="Language name (e.g., ‰∏≠Êñá, Deutsch): "
MSG_LANG_CUSTOM_INSTRUCTION="Instruction for Claude (e.g., Respond in Chinese): "

# MCP server selection
MSG_MCP_SELECT_PROMPT="Select MCP servers to install:"
MSG_MCP_SELECT_HINT="Use ‚Üë/‚Üì to navigate, Space to toggle, Enter to confirm"
MSG_MCP_RECOMMENDED_HEADER="üì¶ Recommended core setup (3):"
MSG_MCP_RECOMMENDED_DESC_1="‚Ä¢ local-rag    üìö Search your docs/code"
MSG_MCP_RECOMMENDED_DESC_2="‚Ä¢ filesystem   üìù Read/write files"
MSG_MCP_RECOMMENDED_DESC_3="‚Ä¢ serena       üåê Web search"
MSG_MCP_ADDITIONAL_HEADER="‚ö™ Additional servers (optional):"
MSG_MCP_ADDITIONAL_DESC_1="‚Ä¢ fetch        üåê HTTP requests"
MSG_MCP_ADDITIONAL_DESC_2="‚Ä¢ puppeteer    ü§ñ Browser automation"
MSG_MCP_NO_SERVERS="No MCP servers selected"
MSG_MCP_INSTALLING_COUNT="Installing %d MCP server(s)..."
MSG_MCP_PROJECT_PATH_PROMPT="Enter project path for .mcp.json (or press Enter to skip): "
MSG_MCP_PROJECT_NOT_FOUND="Project not found:"
MSG_MCP_PROJECT_MANUAL="You can manually create .mcp.json later"
MSG_MCP_SKIP_CREATION="Skipped .mcp.json creation (you can create it manually later)"
MSG_MCP_CREATING_FILE="Creating %s..."
MSG_MCP_FILE_CREATED=".mcp.json created with %d server(s)"
MSG_MCP_INSTALLING_PREFIX="Installing %s..."

# Git (Phase 2)
MSG_GIT_TITLE="Git (Version Control)"
MSG_GIT_DESC_1="To get the most out of Claude Code, Git is recommended:"
MSG_GIT_DESC_2="‚Ä¢ Claude can track code changes (git status, git diff)"
MSG_GIT_DESC_3="‚Ä¢ Auto-generate commits (AI writes commit messages)"
MSG_GIT_DESC_4="‚Ä¢ GitHub integration (create PRs, manage issues)"
MSG_GIT_DESC_5="‚Ä¢ Version control and collaboration"
MSG_GIT_DESC_NOTE="Claude Code works without Git, but version control features require it."
MSG_GIT_INSTALL_ASK="Install Git?"
MSG_GIT_CONFIG_ASK="Configure Git (name & email)?"
MSG_GIT_NAME="Your name: "
MSG_GIT_EMAIL="Your email: "
MSG_GIT_CONFIG_DONE="Git configured"
MSG_GIT_INSTALL_FAILED="Installation failed. Install manually: brew install git gh"

# Phase 1 ‚Üí 2 Transition
MSG_PHASE1_COMPLETE="Phase 1 Complete!"
MSG_PHASE2_NEXT="Next: Phase 2 - Claude Code Setup (optional)"
MSG_PHASE2_DESC_1="‚Ä¢ Workspace management (central config)"
MSG_PHASE2_DESC_2="‚Ä¢ Global agents (workspace-manager, translate, doc-writer)"
MSG_PHASE2_DESC_3="‚Ä¢ MCP servers (document search)"
MSG_PHASE2_DESC_4="‚Ä¢ Git + GitHub (recommended for Claude features)"
MSG_PHASE2_ASK="Continue to Phase 2 now?"
MSG_PHASE2_OPT_YES="Yes, continue"
MSG_PHASE2_OPT_NO="No, skip for now"
MSG_PHASE2_RESTART_WARN="‚ö†Ô∏è  Terminal restart required for Phase 2"
MSG_PHASE2_RESTART_REASON="   (to load updated PATH and shell config)"
MSG_PHASE2_OPEN_TERM_ASK="Open new terminal and start Phase 2?"
MSG_PHASE2_OPEN_OPT_YES="Yes, open new terminal"
MSG_PHASE2_OPEN_OPT_NO="No, I'll run it manually later"
MSG_PHASE2_OPENING="üöÄ Opening new terminal..."
MSG_PHASE2_OPENED="‚úÖ New terminal opened with Phase 2 setup"
MSG_PHASE2_CLOSE_INFO="‚ÑπÔ∏è  You can close this window after Phase 2 starts"
MSG_PHASE2_MANUAL="üí° Run Phase 2 later in a new terminal:"
MSG_PHASE2_MANUAL_LATER="üí° You can run Phase 2 anytime:"

# Completion
MSG_COMPLETE="Claude Code setup is complete!"
MSG_USAGE="Usage: Type 'claude' in your project folder"
MSG_INFO_WORKSPACE="Workspace:"
MSG_INFO_AGENTS="Global agents: workspace-manager, translate, doc-writer"
MSG_INFO_LANGUAGE="Language:"
MSG_INFO_CONFIG="Config:"
MSG_TIP_ADD_PROJECT="To add projects later, tell Claude Code:"
MSG_TIP_ADD_CMD="'Connect a new project' ‚Üí workspace-manager handles it"

# ============================
# Parent setup script messages
# ============================

# Welcome
MSG_SETUP_WELCOME_MAC="Starting macOS development environment setup!"
MSG_SETUP_WELCOME_WIN="Starting Windows development environment setup!"
MSG_SETUP_EACH_STEP="Each step will ask whether to install."

# Steps
MSG_STEP_XCODE="Xcode Command Line Tools (includes git)"
MSG_STEP_HOMEBREW="Homebrew"
MSG_BREW_FAILED="Homebrew installation failed"
MSG_BREW_MANUAL_INSTALL="Please install Homebrew manually, then re-run this script."
MSG_BREW_COPY_PASTE="Copy and paste this command:"
MSG_BREW_AFTER_INSTALL="After Homebrew is installed, re-run:"
MSG_NO_SUDO="No administrator privileges"
MSG_BREW_NEEDS_SUDO="Homebrew installation requires administrator privileges."
MSG_SUDO_HOW_TO_FIX="How to get administrator privileges:"
MSG_SUDO_OPTION_1="1. Open System Settings ‚Üí Users & Groups"
MSG_SUDO_OPTION_2="2. Click the lock icon (bottom left) ‚Üí Enter admin password"
MSG_SUDO_OPTION_3="3. Select your account ‚Üí Check 'Allow user to administer this computer'"
MSG_SUDO_OPTION_4="4. Restart Terminal and run this script again"
MSG_SUDO_OR="Or:"
MSG_SUDO_ADMIN_LOGIN="Log in with an administrator account and run this script"
MSG_BREW_REQUIRED_FOR="Without Homebrew, the following cannot be installed:"
MSG_BREW_REQUIRED_NODE="‚Ä¢ Node.js (required for Claude Code and AI tools)"
MSG_BREW_REQUIRED_TOOLS="‚Ä¢ ripgrep, tmux, zsh plugins, D2Coding font"
MSG_BREW_MANUAL_ALTERNATIVE="Manual installation is possible but complex."
MSG_STEP_PACKAGES="Install packages (node, ripgrep, font, zsh plugins)"
MSG_STEP_PACKAGES_WIN="Install packages (Node.js, GitHub CLI, ripgrep)"
MSG_PKG_SELECT_PROMPT="Select packages to install (Space: toggle, Enter: confirm)"
MSG_REQUIRED="required"
MSG_PKG_NODE="Node.js (required for AI tools)"
MSG_PKG_RIPGREP="ripgrep (fast code search)"
MSG_PKG_FONT="D2Coding Font (for terminal theme)"
MSG_PKG_ZSH_AUTO="zsh-autosuggestions (command auto-completion)"
MSG_PKG_ZSH_SYNTAX="zsh-syntax-highlighting (syntax highlighting)"
MSG_NODE_REQUIRED="Node.js is required for AI coding tools (Claude Code, Gemini CLI)."
MSG_NODE_MANUAL_INSTALL="Please install Node.js manually:"
MSG_NODE_INSTALL_FAILED="Node.js installation failed"
MSG_NODE_VERIFY="Then verify the installation:"
MSG_STEP_D2CODING="D2Coding developer font"
MSG_STEP_FONT_D2CODING_BREW="Installed via Brewfile."
MSG_STEP_SSH="SSH key (for GitHub)"
MSG_STEP_MACOS_SETTINGS="macOS developer settings"
MSG_STEP_TERMINAL="Terminal settings"
MSG_STEP_TERMINAL_APP="Terminal App Setup (Terminal.app / iTerm2)"
MSG_STEP_SHELL="Shell Setup (Oh My Zsh, .zshrc)"
MSG_STEP_TMUX="tmux Setup (split panes, session management)"
MSG_STEP_OHMYZSH="Oh My Zsh"
MSG_STEP_CLAUDE="Claude Code"
MSG_STEP_AI_TOOLS="AI Coding Tools"
MSG_CHECKING_UPDATES="Checking installation status and updates..."
MSG_UPDATE_AVAILABLE="update available"
MSG_LATEST_VERSION="latest version"
MSG_AI_TOOLS_HINT="‚Üë‚Üì move, Space toggle, Enter confirm"
MSG_AI_TOOL_NEEDS_NPM="requires Node.js/npm"
MSG_AI_TOOL_NEEDS_GH="requires GitHub CLI (gh)"
MSG_NPM_NOT_FOUND_INSTALL="npm not found. Please install Node.js first:"
MSG_NPM_INSTALL_CMD="brew install node"
MSG_GH_NOT_FOUND_INSTALL="gh not found. Please install GitHub CLI first:"
MSG_GH_INSTALL_CMD="brew install gh"

# Xcode
MSG_XCODE_INSTALLING="Installing... (click 'Install' if a popup appears)"
MSG_XCODE_ENTER="Press Enter after installation completes..."

# SSH
MSG_SSH_EXISTS="SSH key already exists."
MSG_SSH_REGISTER="Register existing key to GitHub?"
MSG_SSH_COPIED="SSH public key copied to clipboard!"
MSG_SSH_GITHUB_URL="‚Üí Go to https://github.com/settings/keys and click 'New SSH key' to paste"
MSG_SSH_ENTER="Press Enter after registration..."
MSG_SSH_GENERATE="Generate SSH key?"
MSG_SSH_EMAIL="Enter your GitHub email: "

# macOS settings
MSG_MACOS_APPLY="Apply macOS developer settings?"
MSG_MACOS_KEYBOARD="Faster keyboard repeat? (for Vim/terminal: jjjj, llll)"
MSG_MACOS_KEYBOARD_DESC="Makes key repeat much faster than system settings allow. Useful for Vim and terminal navigation."
MSG_MACOS_SCREENSHOT="Save screenshots to ~/Screenshots? (keeps Desktop clean)"
MSG_MACOS_SCREENSHOT_DESC="Default: saves to Desktop. Changed to: ~/Screenshots folder."

# Terminal
MSG_TERMINAL_OPT1="Terminal.app only (apply dark theme)"
MSG_TERMINAL_OPT2="Install iTerm2"
MSG_TERMINAL_OPT3="Both"
MSG_TERMINAL_OPT4="Skip"
MSG_TERMINAL_APPLIED="Terminal.app 'Dev' profile installed (settings saved)"
MSG_TERMINAL_RESTART_HINT="To apply: Quit Terminal.app (‚åòQ) ‚Üí Relaunch ‚Üí Dev theme auto-starts (current terminal can keep running)"
MSG_ITERM2_PROFILE_APPLIED="iTerm2 Dev profile applied"
MSG_ITERM2_PROFILE_HINT="Set as default: Settings(‚åò,) ‚Üí Profiles ‚Üí Select Dev ‚Üí Other Actions ‚Üí Set as Default"
MSG_BOTH_TERMINAL_HINT="Dev theme will be applied when you open a new Terminal/iTerm2 window"
MSG_ITERM2_INSTALLED="iTerm2 installed"
MSG_ITERM2_INSTALL_FAILED="iTerm2 installation failed (optional, skipping profile setup)"
MSG_TERMINAL_VERIFY_HEADER="Verify Terminal Theme"
MSG_TERMINAL_VERIFY_DESC="Open a new terminal window and check if Dev theme is applied"
MSG_TERMINAL_MANUAL_SETUP="If theme is not applied, follow manual setup below:"
MSG_TERMINAL_MANUAL_TERMINAL="Terminal.app: Settings(‚åò,) ‚Üí Profiles ‚Üí Import ‚Üí Select Dev.terminal ‚Üí Set as Default"
MSG_TERMINAL_MANUAL_ITERM2="iTerm2: Settings(‚åò,) ‚Üí Profiles ‚Üí Select Dev ‚Üí Other Actions ‚Üí Set as Default"

# Fonts
MSG_FONT_ASK="Font installation (multi-select, Enter without selection to skip)"
MSG_FONT_SELECT="Select fonts to install (multi-select, skip if none selected)"  # Not used
MSG_FONT_HINT="‚Üë‚Üì move | Space select/deselect | Enter confirm"
MSG_FONT_OPT1="D2Coding (coding font with Korean support)"
MSG_FONT_OPT2="D2Coding Nerd Font (Korean + icons, recommended for agnoster theme)"
MSG_FONT_OPT_SKIP="Skip (use system default font)"
MSG_FONT_INSTALLING="Installing fonts..."
MSG_FONT_DONE="Font installation complete"
MSG_FONT_SKIP="Font installation skipped"

# Oh My Zsh
MSG_OHMYZSH_ASK="Oh My Zsh:"
MSG_OHMYZSH_OPT_INSTALL="Install (shell theme, auto-completion, syntax highlighting)"
MSG_OHMYZSH_OPT_SKIP="Skip"
MSG_OHMYZSH_INSTALLING="Installing Oh My Zsh..."
MSG_OHMYZSH_DESC="Shell theme, auto-completion, and syntax highlighting make terminal work easier"
MSG_OHMYZSH_INSTALL_HINT="You can install it later with:"
MSG_OHMYZSH_INSTALL_CMD="sh -c \"\$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\""
MSG_OHMYZSH_NOT_INSTALLED="Oh My Zsh is not installed"
MSG_OHMYZSH_THEME_SKIP="'agnoster theme' option will be skipped if selected"
MSG_OHMYZSH_DONE="Oh My Zsh installed"
MSG_OHMYZSH_SKIP="Oh My Zsh skipped"
MSG_ZSHRC_ASK="Customize .zshrc (skip if none selected)"
MSG_ZSHRC_HINT="‚Üë‚Üì move | Space select/deselect | Enter confirm"
MSG_ZSHRC_OPT_THEME="agnoster theme + random emoji (e.g., user@host üöÄ ~/project)"
MSG_ZSHRC_OPT_AUTOSUGGESTIONS="Previous command suggestions"
MSG_ZSHRC_OPT_SYNTAX="Syntax error highlighting"
MSG_ZSHRC_OPT_ALIAS="Shortcut commands (ll='ls -la', gs='git status', gl='git log')"
MSG_ZSHRC_NOT_INSTALLED="[-] Not installed"
MSG_ZSHRC_DONE=".zshrc settings added"
MSG_ZSHRC_SKIP=".zshrc customization skipped"
MSG_TMUX_ASK="tmux:"
MSG_TMUX_OPT_INSTALL="Install (split panes, session management)"
MSG_TMUX_OPT_SKIP="Skip"
MSG_TMUX_INSTALLING_PKG="Installing tmux..."
MSG_TMUX_INSTALLING_CONFIG="Applying tmux configuration..."
MSG_TMUX_DESC="Terminal multiplexer (split panes, session management for multitasking)"
MSG_TMUX_DONE="tmux configured"
MSG_TMUX_SKIP="tmux skipped"

# Claude Code (parent)
MSG_CLAUDE_INSTALL="Install Claude Code?"
MSG_CLAUDE_UPDATE_ASK="Update Claude Code?"
MSG_CLAUDE_EXTRA="Claude Code additional setup (MCP, RAG, etc.) can be run later:"

# Completion (parent)
MSG_SETUP_COMPLETE="Installation complete!"
MSG_OPEN_NEW_TERMINAL="Open a new terminal window to verify."
MSG_CLAUDE_EXTRA_SETUP="Claude Code additional setup:"

# Windows-specific
MSG_WINGET_NOT_INSTALLED="winget is not installed."
MSG_WINGET_STORE="‚Üí Install 'App Installer' from the Microsoft Store."
MSG_WINGET_UPDATE="‚Üí Or update to Windows 10 version 1709 or later."
MSG_WINGET_ENTER="Press Enter after installation..."
MSG_STEP_WINGET="winget (package manager)"
MSG_STEP_GIT="Git"
MSG_STEP_WINTERMINAL="Windows Terminal theme"
MSG_STEP_OHMYPOSH="Oh My Posh (PowerShell theme)"
MSG_WINTERMINAL_NOT_INSTALLED="Windows Terminal is not installed."
MSG_WINTERMINAL_INSTALL="Install Windows Terminal?"
MSG_WINTERMINAL_APPLY="Apply 'Dev' theme to Windows Terminal?"
MSG_WINTERMINAL_BACKUP="Existing settings backed up:"
MSG_WINTERMINAL_DONE="Dev theme + D2Coding font applied"
MSG_WINTERMINAL_RESTORE="To restore original settings:"
MSG_OHMYPOSH_INSTALL="Install Oh My Posh?"
MSG_OHMYPOSH_PROFILE="Installed. Add the following to your PowerShell profile:"
MSG_D2CODING_MANUAL="winget install failed. Manual installation may be needed."
MSG_D2CODING_MANUAL_URL="‚Üí https://github.com/naver/d2codingfont/releases"
MSG_EXISTING_FOLDER="Existing ai-dev-setup folder found. Updating."

# Install script
MSG_DOWNLOADING="Downloading ai-dev-setup..."
MSG_DOWNLOAD_DONE="Download complete"
MSG_EXTRACT_DONE="Extraction complete"
MSG_INSTALL_LOCATION="Install location:"
MSG_STARTING_SETUP="Starting setup..."
